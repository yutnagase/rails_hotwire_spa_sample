<%= turbo_stream.replace "product_#{@product.id}" do %>
  <tr id="product_<%= @product.id %>">
    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><%= @product.code %></td>
    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= @product.name %></td>
    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">¥<%= number_with_delimiter(@product.cost_price) %></td>
    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">¥<%= number_with_delimiter(@product.selling_price) %></td>
    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
      <%= link_to "表示", @product, class: "text-green-600 hover:text-green-900 mr-3" %>
      <%= link_to "編集", edit_product_path(@product), 
          class: "text-green-600 hover:text-green-900 mr-3",
          data: { turbo_frame: "product_form" } %>
      <%= link_to "削除", @product, method: :delete,
          class: "text-red-600 hover:text-red-900",
          confirm: "本当に削除しますか？",
          data: { turbo_method: :delete } %>
    </td>
  </tr>
<% end %>

<%= turbo_stream.update "product_form", "" %>